<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Auth0 PAR Demo App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
</head>

<body>
    <div class="container">
        <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
            <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
                <span class="fs-4">Auth0 PAR Demo App</span>
            </a>

            <ul class="nav nav-pills col-12 col-lg-auto justify-content-end">
                <% if(!isAuthN) { %>
                    <li class="nav-item">
                        <a class="nav-link" href="/login">Login</a>
                    </li>
                    <% } else { %>
                        <li class="nav-item">
                            <a class="nav-link" href="/logout">Logout</a>
                        </li>
                        <% } %>
        </header>
        <div class="align-items-center mb-3 my-5 mb-md-0 me-md-auto text-dark text-decoration-none">
            <% if(!isAuthN) { %>
                <p>This demo app showcases how to integrate and utilize the Proof of Authorization Request (PAR)
                    protocol in
                    OAuth 2.0 and OpenID Connect flows. This demo app demonstrates how authorization requests are
                    securely
                    sent and processed via the Authorization Server, improving security and privacy by allowing clients
                    to
                    retrieve authorization codes without direct user involvement in the request itself. It highlights
                    the
                    process of using PAR to initiate and handle the OAuth 2.0 authorization flow, ensuring that
                    sensitive
                    information, such as client credentials and authorization details, are exchanged in a more secure,
                    tamper-resistant manner. Click <a href="/login">Login</a> to begin.</p>
                <% } else { %>
                    <h4>Welcome, <%- user.email %> </h4>
                    <div class="container">
                        <div class="text-dark text-decoration-none my-3">
                            <img width="40" height="32" src="/imgs/icon-access-token.svg" />
                            <span class="fs-4">Access Token</span>
                            <textarea style="width: 100%; height: 200px;"><%- accessToken %></textarea>
                            <a target="_blank" rel="noopener noreferrer" href="https://jwt.io?token=<%- accessToken %>">See Access Token Details</a>
                        </div>
                        <div class="text-dark text-decoration-none">
                            <img width="40" height="32" src="/imgs/icon-id-token.svg" />
                            <span class="fs-4">ID Token</span>
                            <textarea style="width: 100%; height: 200px;"><%- idToken %></textarea>
                            <a target="_blank" rel="noopener noreferrer" href="https://jwt.io?token=<%- idToken %>">See ID Token Details</a>
                        </div>
                    </div>


        </div>
        <% } %>


    </div>
    </div>



</body>

</html>